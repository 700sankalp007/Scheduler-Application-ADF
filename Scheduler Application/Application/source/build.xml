<?xml version="1.0" encoding="windows-1252" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated May 9, 2019 6:56:03 PM-->
<project xmlns="antlib:org.apache.tools.ant" name="GenericSchedulerApplication" basedir=".">
  <property file="build.properties"/>
  <target name="deploy" description="Deploy JDeveloper profiles">
    <taskdef name="ojdeploy" classname="oracle.jdeveloper.deploy.ant.OJDeployAntTask" uri="oraclelib:OJDeployAntTask"
             classpath="${oracle.jdeveloper.ant.library}"/>
    <ora:ojdeploy xmlns:ora="oraclelib:OJDeployAntTask" executable="${oracle.jdeveloper.ojdeploy.path}"
                  ora:buildscript="${oracle.jdeveloper.deploy.dir}/ojdeploy-build.xml"
                  ora:statuslog="${oracle.jdeveloper.deploy.dir}/ojdeploy-statuslog.xml">
      <ora:deploy>
        <ora:parameter name="workspace" value="${oracle.jdeveloper.workspace.path}"/>
        <ora:parameter name="profile" value="${oracle.jdeveloper.deploy.profile.name}"/>
        <ora:parameter name="nocompile" value="false"/>
        <ora:parameter name="outputfile" value="${oracle.jdeveloper.deploy.outputfile}"/>
      </ora:deploy>
    </ora:ojdeploy>
  </target>
  
  <target name="ChangeConnModeToLocal" description="Change connection string in bc4j.xcfg of All Projects">
        <replace dir="\\">
            <include name="**/*.xcfg"/>
            <!-- the content of the replacetoken needs to match EXACTLY (including whitespace) 
           for what it is trying to replace, otherwise it will fail. -->
            <replacefilter>
                <replacetoken expandproperties="true"><![CDATA[JDBCDataSource="jdbc/${deployConnName}"]]></replacetoken>
                <replacevalue expandproperties="true"><![CDATA[JDBCDataSource="java:comp/env/jdbc/${localConnName}"]]></replacevalue>
            </replacefilter>
        </replace>
        <replace file="${utility.connectionmanager}">
            <replacefilter>
                <replacetoken expandproperties="true"><![CDATA[ctx.lookup("jdbc/${deployConnName}")]]></replacetoken>
                <replacevalue expandproperties="true"><![CDATA[ctx.lookup("java:comp/env/jdbc/${localConnName}")]]></replacevalue>
            </replacefilter>
        </replace>
        <replace file="${jws.path}">
            <replacefilter>
                <replacetoken><![CDATA[<value n="Weblogic-JDBC-Auto-Sync-Key" v="false"/>]]></replacetoken>
                <replacevalue><![CDATA[<value n="Weblogic-JDBC-Auto-Sync-Key" v="true"/>]]></replacevalue>
            </replacefilter>
        </replace>
        <echo>       Connection Strings In Local Mode!     </echo>
    </target>
    <target name="ChangeConnModeToDeploy" description="Change connection string in bc4j.xcfg of All Projects">
        <replace dir="\\">
            <include name="**/*.xcfg"/>
            <!-- the content of the replacetoken needs to match EXACTLY (including whitespace) 
           for what it is trying to replace, otherwise it will fail. -->
            <replacefilter>
                <replacetoken expandproperties="true"><![CDATA[JDBCDataSource="java:comp/env/jdbc/${localConnName}"]]></replacetoken>
                <replacevalue expandproperties="true"><![CDATA[JDBCDataSource="jdbc/${deployConnName}"]]></replacevalue>
            </replacefilter>
        </replace>
        <replace file="${utility.connectionmanager}">
            <replacefilter>
                <replacetoken expandproperties="true"><![CDATA[ctx.lookup("java:comp/env/jdbc/${localConnName}")]]></replacetoken>
                <replacevalue expandproperties="true"><![CDATA[ctx.lookup("jdbc/${deployConnName}")]]></replacevalue>
            </replacefilter>
        </replace>
        <replace file="${jws.path}">
            <replacefilter>
                <replacetoken><![CDATA[<value n="Weblogic-JDBC-Auto-Sync-Key" v="true"/>]]></replacetoken>
                <replacevalue><![CDATA[<value n="Weblogic-JDBC-Auto-Sync-Key" v="false"/>]]></replacevalue>
            </replacefilter>
        </replace>
        <echo>       Connection Strings In Deploy Mode!     </echo>
    </target>
  
</project>
